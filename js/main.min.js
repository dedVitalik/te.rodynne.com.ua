"use strict";document.addEventListener("DOMContentLoaded",(function(){var e=window.innerHeight,t=0,n=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),o=/Mobi/.test(navigator.userAgent);n&&!o&&(t=window.outerHeight-window.innerHeight),o&&(e=window.screen.availHeight,t=(window.screen.availHeight-window.innerHeight)/2);var i=function(e,n,o,i){var a=e.top/n-t;o[i].style.top=a+"px"},a=document.getElementById("btnRu"),c=document.getElementById("btnUa"),s=window.location.protocol+"//"+window.location.host,r=window.location.pathname.replace("/ru","").replace("//","");r.length<2&&(r=""),a.addEventListener("click",(function(){window.location.href=s+"/ru"+r}),!0),c.addEventListener("click",(function(){window.location.href=s+r}),!0);var l=function(n,o){for(var a=0;n.length>a;a++){var c=n[a].parentElement.parentElement.getBoundingClientRect(),s=n[a].parentElement.parentElement.offsetTop,r=(e-c.height)/2,l=e>c.height+s?c.height+s-s/o:c.height+2*(r-r/o);n[a].style.height=l+2*t+"px",i(c,o,n,a)}};function d(){document.querySelector(".menu-icon").classList.remove("_active"),document.querySelector(".menu__list").classList.remove("_active"),document.body.classList.remove("_menu")}function u(){var e=document.querySelector(".social").querySelector(".social__body");document.body.classList.contains("_menu")&&d(),e.classList.remove("_active"),document.body.classList.remove("_socials")}!function(){document.addEventListener("touchstart",(function(n){var o=function(e){return e.touches||e.originalEvent.touches}(n)[0];t=o.clientX,e=o.clientY})),document.addEventListener("touchmove",(function(n){if(!t||!e)return;var o=n.touches[0].clientX,i=n.touches[0].clientY,a=t-o,c=e-i;Math.abs(a)>Math.abs(c)&&a>0&&(document.body.classList.contains("_menu")&&d(),document.body.classList.contains("_socials")&&u());t=null,e=null}));var e=null,t=null}(),(new function(){var t=function(t,n){n<1&&(n=1),l(t,n),o||window.addEventListener("resize",(function(){e=window.innerHeight,l(t,n)})),window.addEventListener("scroll",(function(){!function(t,n){for(var o=0;t.length>o;o++){var a=t[o].parentElement.parentElement.getBoundingClientRect();a.top+a.height>=0&&a.top<=e&&i(a,n,t,o)}}(t,n)}))};this.init=function(e){void 0===e&&(e={}),e={speed:void 0!==e.speed?e.speed:1.5,className:void 0!==e.className?e.className:"parallax"};for(var n=document.getElementsByClassName(e.className),o=0;n.length>o;o++){var i=document.createElement("div");n[o].parentNode.insertBefore(i,n[o]),i.appendChild(n[o]);var a=n[o].parentElement;a.className+="parallax__container","relative"!==window.getComputedStyle(a.parentElement,null).getPropertyValue("position")&&(a.parentElement.style.position="relative");var c=n[o].dataset.parallaxImage;void 0!==c&&(n[o].style.backgroundImage="url("+c+")",1===n[o].classList.length&&"parallax"===n[o].classList[0]&&(n[o].style.backgroundRepeat="no-repeat",n[o].style.backgroundPosition="center",n[o].style.backgroundSize="cover"))}document.addEventListener("readystatechange",(function(o){"complete"===o.target.readyState&&t(n,e.speed)}))}}).init({speed:4}),document.querySelector(".menu-icon").addEventListener("click",(function(){document.body.classList.contains("_menu")?d():(document.body.classList.contains("_socials")&&u(),document.querySelector(".menu-icon").classList.add("_active"),document.querySelector(".menu__list").classList.add("_active"),document.body.classList.add("_menu"))})),document.querySelector(".header .social__img").addEventListener("click",(function(){var e;document.body.classList.contains("_socials")?u():(e=document.querySelector(".social").querySelector(".social__body"),document.body.classList.contains("_menu")&&d(),e.classList.add("_active"),document.body.classList.add("_socials"))}));var m,v,g=document.querySelector("header .city");function h(){g.classList.remove("_active"),g.querySelector("ul").style.maxHeight=""}m=g.querySelector("a._active"),v=g.querySelector("span"),m&&v&&(v.textContent=m.textContent),g.addEventListener("click",(function(e){g.classList.contains("_active")?h():function(){g.classList.add("_active");var e=g.querySelector("ul");e.style.maxHeight=e.scrollHeight+"px"}()})),window.addEventListener("click",(function(e){g.classList.contains("_active")&&!g.contains(e.target)&&h()}))}));